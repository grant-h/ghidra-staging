From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Jan <katharsas@users.noreply.github.com>
Date: Thu, 19 Jan 2023 23:13:22 +0100
Subject: [PATCH] 4905: Fix NPE in CParser#defineNamedComposite (see #4903)

Fix NPE in CParser#defineNamedComposite #4903
---
 .../Base/src/main/javacc/ghidra/app/util/cparser/C/C.jj         | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/Ghidra/Features/Base/src/main/javacc/ghidra/app/util/cparser/C/C.jj b/Ghidra/Features/Base/src/main/javacc/ghidra/app/util/cparser/C/C.jj
index 0d4bb9b73..22dff41e1 100644
--- a/Ghidra/Features/Base/src/main/javacc/ghidra/app/util/cparser/C/C.jj
+++ b/Ghidra/Features/Base/src/main/javacc/ghidra/app/util/cparser/C/C.jj
@@ -427,7 +427,7 @@ public class CParser {
 
                     hasNoComponents = (dtComp.getNumDefinedComponents() == 0 ? true : false);
 
-                    hasSameSourceArchive = dt.getSourceArchive().equals(dtMgr.getLocalSourceArchive());
+                    hasSameSourceArchive = Objects.equals(dt.getSourceArchive(), dtMgr.getLocalSourceArchive());
             }
 
             // make sure comp is a Composite, if existing dt is empty, in same category and archive
-- 
2.39.1

