From da251c260044bc57edd0f6aa253f2f7f183c6843 Mon Sep 17 00:00:00 2001
From: astrelsky <ajs222@njit.edu>
Date: Mon, 9 Nov 2020 10:26:24 -0500
Subject: [PATCH] 2446: Non recursive DataTypeManagerDB.getCategory

---
 .../program/database/data/DataTypeManagerDB.java      | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

diff --git a/Ghidra/Framework/SoftwareModeling/src/main/java/ghidra/program/database/data/DataTypeManagerDB.java b/Ghidra/Framework/SoftwareModeling/src/main/java/ghidra/program/database/data/DataTypeManagerDB.java
index 9ef0243cd..5aa6d78f1 100644
--- a/Ghidra/Framework/SoftwareModeling/src/main/java/ghidra/program/database/data/DataTypeManagerDB.java
+++ b/Ghidra/Framework/SoftwareModeling/src/main/java/ghidra/program/database/data/DataTypeManagerDB.java
@@ -947,11 +947,14 @@ abstract public class DataTypeManagerDB implements DataTypeManager {
 		if (path.equals(CategoryPath.ROOT)) {
 			return root;
 		}
-		Category parent = getCategory(path.getParent());
-		if (parent == null) {
-			return null;
+		Category cat = root;
+		for (String parent : path.asList()) {
+			cat = cat.getCategory(parent);
+			if (cat == null) {
+				return null;
+			}
 		}
-		return parent.getCategory(path.getName());
+		return cat;
 	}
 
 	CategoryDB getCategoryDB(long id) throws IOException {
-- 
2.38.1

